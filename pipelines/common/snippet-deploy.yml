parameters:
  environment: ''
  logicalEnvironment: dev
  webAppRG: ''
  webApp: ''
  azureSub: ''
  slot: 'production'
  downloadSteps:
  - download: current
    artifact: drop

steps:
- task: AzureRmWebAppDeployment@4
    inputs:
      azureSubscription: ${{ parameters.azureSub }}
      ResourceGroupName: ${{ parameters.webAppRG }}
      WebAppName: ${{ parameters.webApp }}
      appType: 'webAppLinux'
      packageForLinux: $(Package)
      deployToSlotOrASE: ${{ ne(parameters.slot, 'production') }}
      SlotName: ${{ parameters.slot }}
    displayName: 'Azure App Service Deploy: ${{ parameters.webApp }}'
